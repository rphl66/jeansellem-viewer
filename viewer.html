<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jeansellem Viewer</title>
  <style>
    html,body{height:100%;margin:0}
    #viewer{height:100vh}
  </style>
</head>
<body>
  <div id="viewer"></div>

  <!-- Charge le bootstrap depuis le CDN -->
  <script src="https://unpkg.com/@pdftron/pdfjs-express-viewer@latest/webviewer.min.js"></script>
  <script>
    // Récupère ?file=... si fourni, sinon charge un PDF local par défaut
    const params = new URLSearchParams(location.search);
    const file = params.get('file') || '1971-sandro-adriani.pdf';

    WebViewer({
      // IMPORTANT : on pointe le CDN pour éviter d’uploader /core et /ui
      path: 'https://unpkg.com/@pdftron/pdfjs-express-viewer@latest',
      licenseKey: 'WQbdx5KD5SbQkjFwosWR',  // ta clé
      initialDoc: file
    }, document.getElementById('viewer'))
    .then(() => console.log('Viewer prêt:', file))
    .catch(console.error);
  </script>
</body>
</html>
